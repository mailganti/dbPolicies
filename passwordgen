import random
import string
import argparse

def generate_password(length, include_digits, include_special):
    """Generates a random password based on specified criteria."""
    characters = string.ascii_letters
    if include_digits:
        characters += string.digits
    if include_special:
        characters += string.punctuation

    if not characters:
        raise ValueError("No character types selected for password generation.")

    password = ''.join(random.choice(characters) for _ in range(length))
    return password

def main():
    parser = argparse.ArgumentParser(description="Generate a strong, random password.")
    parser.add_argument("-l", "--length", type=int, default=12,
                        help="Desired length of the password (default: 12)")
    parser.add_argument("-d", "--digits", action="store_true",
                        help="Include digits in the password")
    parser.add_argument("-s", "--special", action="store_true",
                        help="Include special characters in the password")

    args = parser.parse_args()

    try:
        password = generate_password(args.length, args.digits, args.special)
        print(f"Generated Password: {password}")
    except ValueError as e:
        print(f"Error: {e}")

if __name__ == "__main__":
    main()
